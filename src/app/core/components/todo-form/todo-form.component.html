<div class="todo-container">
  <mat-card class="todo-card">
    <h2 class="todo-title">{{todoId() ? 'Edit Todo':'Add Todo'}}</h2>
    <form [formGroup]="todoForm()" novalidate (ngSubmit)="onSubmit()">

      <!-- Title -->
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Name</mat-label>
        <input matInput formControlName="title" placeholder="Title" />
        @if (todoForm().controls['title'].hasError('required')){        
        <mat-error>
          Title is <strong>required</strong>
        </mat-error>
        }
      </mat-form-field>  
      
      <!-- Location -->
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Description</mat-label>
        <input matInput formControlName="description" placeholder="Description" />
        @if (todoForm().controls['description'].hasError('required')){        
          <mat-error>
           Description is <strong>required</strong>
          </mat-error>
        }
      </mat-form-field>  

      <!-- Due Date -->
      <mat-form-field appearance="fill" class="full-width">
     <mat-label>Due Date</mat-label>
      <input matInput type="datetime-local" formControlName="dueDate" />
      @if (todoForm().controls['dueDate'].hasError('required')){        
          <mat-error>
           Due Date is <strong>required</strong>
          </mat-error>
        }
    </mat-form-field>

      <!-- Is Completed -->
      @if (todoId()){
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Is Completed</mat-label>
        <mat-select formControlName="isCompleted">
            <mat-option [value]="''">Select Is Completed</mat-option>
            <mat-option value="0">NO</mat-option>
            <mat-option value="1">YES</mat-option>
        </mat-select>
        @if (todoForm().controls['isCompleted'].hasError('required')){        
        <mat-error>
          IsCompleted is <strong>required</strong>
        </mat-error>
        }
       </mat-form-field>
       }       


      <!-- Submit Button -->
      <button
        mat-raised-button
        color="primary"
        type="submit"
        class="full-width"
      >
        {{ isSubmitting() ? '...' : 'Submit' }}
      </button>

      <button
        mat-button
        mat-raised-button
        type="button"
        class="full-width"
        (click)="closeDialog()"
      >
        Close
      </button>
    </form>
  </mat-card>
</div>
